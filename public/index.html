<!DOCTYPE html>

<!-- /public/index.html -->

<html lang="en-us" ng-app="albumApp">

<head>
    <!-- META -->
    <meta charset="utf-8">
    <!-- Optimize mobile viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Node/Angular Album Collector</title>

    <!-- STYLESHEETS -->
    <link rel="stylesheet" href="css/angular-material.min.css" type="text/css" />
    <link rel="stylesheet" href="css/materialdesignicons.min.css" type="text/css" media="all" />
    <link rel="stylesheet" href="/css/style.css" type="text/css" />

    <!-- 3RD PARTY JAVASCRIPT -->
    <script src="js/vendor/angular.min.js"         ></script>
    <script src="js/vendor/angular-material.min.js"></script>
    <script src="js/vendor/angular-animate.min.js" ></script>
    <script src="js/vendor/angular-aria.min.js"    ></script>

    <!-- JAVASCRIPT -->
    <script src="js/controllers/main.js"></script>
<!--    <script src="js/controllers/bottomSheet.js"></script>-->
    <script src="js/services/albums.js"></script>
    <script src="js/core.js"></script>

</head>

<body ng-controller="mainController" layout="column" ng-cloak>

    <!-- ===================== HEADER AND ALBUM COUNT ===================== -->
    <md-toolbar>
        <div class="md-toolbar-tools">
            <md-button class="md-primary md-raised" ng-click="openSidebar()">
                <md-icon class="mdi mdi-plus-circle"></md-icon>
                Add Album
            </md-button>
            
            <p><strong> Total Albums: {{ albums.length }} </strong></p>
            
        </div>
    </md-toolbar>

    <!-- ============================ SIDENAV ============================= -->
    <md-sidenav class="md-sidenav-left md-whiteframe-6dp" md-component-id="left">
        <md-toolbar>
            <h2 class="md-toolbar-tools">Add an Album</h2>
        </md-toolbar>
        
        <md-content class="md-padding">
            <form>
                <!-- INPUTS -->
                <div layout="column">
                    <md-input-container>
                        <label for="albumName">Album Name</label>
                        <input type="text" id="albumName"
                               ng-model="formData.albumName" md-autofocus>
                    </md-input-container>
                    <md-input-container>
                        <label for="albumArtist">Artist</label>
                        <input type="text" id="albumArtist"
                               ng-model="formData.albumArtist">
                    </md-input-container>
                    <md-input-container>
                        <label for="albumGenre">Genre</label>
                        <input type="text" id="albumGenre"
                               ng-model="formData.albumGenre">
                    </md-input-container>
                    <md-input-container>
                        <label for="albumOwner">Owner</label>
                        <input type="text" id="albumOwner"
                               ng-model="formData.albumOwner">
                    </md-input-container>
                    <md-input-container>
                        <label for="albumNumberListens">Number of Listens</label>
                        <input type="text" id="albumNumberListens"
                               ng-model="formData.albumNumberListens">
                    </md-input-container>
                    <md-input-container>
                        <label for="albumLastListen">Last Listen</label>
                        <input type="text" id="albumLastListen"
                               ng-model="formData.albumLastListen">
                    </md-input-container>
                </div>
                
                <!-- BUTTONS -->
                <div layout="row">
                    <md-button class="md-primary md-raised" ng-if="!editing"
                               ng-disabled="!formData.albumName.length || buttonDisabled"
                               ng-click="createAlbum()">
                        Save
                    </md-button>
                    <md-button class="md-warn md-raised" ng-click="closeSidebar()">
                        Cancel
                    </md-button>
                </div>
            </form>
        </md-content>
    </md-sidenav>

    
    <!-- =========================== ALBUM LIST =========================== -->
    <md-content class="md-padding" layout="row" layout-wrap>

        <!-- header row -->
        <div layout="row" flex="100" class="albumHeader">
            <div flex="50" flex-gt-sm="30">
                <p>Album Name</p>
            </div>
            <div hide show-gt-sm flex-gt-sm="20">
                <p>Artist</p>
            </div>
            <div hide show-gt-sm flex-gt-sm="15">
                <p>Genre</p>
            </div>
            <div hide show-gt-sm flex-gt-sm="15">
                <p>Owner</p>
            </div>
            <div flex="25" flex-gt-sm="10">
                <p>Last Listen</p>
            </div>
            <div flex="25" flex-gt-sm="10">
                <p>Listens</p>
            </div>
        </div>

        <!-- table row content loop -->
        <div layout="row" flex="100" class="albumRow"
             ng-repeat="album in albums | filter:userFilter | orderBy:'albumName' ">
            <div flex="50" flex-gt-sm="30">
                <p><a ng-click="openSidebar()" style="cursor: pointer; text-decoration: underline;"> {{ album.albumName }} </a></p>
            </div>
            <div hide show-gt-sm flex-gt-sm="20">
                <p>{{ album.albumArtist }}</p>
            </div>
            <div hide show-gt-sm flex-gt-sm="14">
                <p>{{ album.albumGenre }}</p>
            </div>
            <div hide show-gt-sm flex-gt-sm="14">
                <p>{{ album.albumOwner }}</p>
            </div>
            <div flex="25" flex-gt-sm="10">
                <p>{{ album.albumLastListen }}</p>
            </div>
            <div flex="25" flex-gt-sm="10">
                <p>{{ album.albumNumberListens }}</p>
            </div>
        </div>
    </md-content>

</body>
</html>